#!/bin/bash
LOG="rocm_check.log"
echo "ğŸ” Komponententest gestartet: $(date)" > "$LOG"

# HIP Check
echo -e "\nğŸš€ HIP Test..." | tee -a "$LOG"
hipcc --version &>/dev/null && HIP_STATUS="âœ… verfÃ¼gbar" || HIP_STATUS="âŒ fehlt"

# Jupyter Check
echo -e "\nğŸ“˜ Jupyter Test..." | tee -a "$LOG"
python3 -c "from notebook import notebookapp" &>/dev/null && JUPYTER_STATUS="âœ… verfÃ¼gbar" || JUPYTER_STATUS="âŒ fehlt"

# Blender Check
echo -e "\nğŸ¨ Blender Test..." | tee -a "$LOG"
blender --version &>/dev/null && BLENDER_STATUS="âœ… verfÃ¼gbar" || BLENDER_STATUS="âŒ fehlt"

# TensorFlow Check
echo -e "\nğŸ§  TensorFlow Test..." | tee -a "$LOG"
python3 -c "import tensorflow" &>/dev/null && TENSORFLOW_STATUS="âœ… verfÃ¼gbar" || TENSORFLOW_STATUS="âŒ fehlt"

# ğŸ§¾ Tabelle
echo -e "\nğŸ“Š Komponententabelle:" | tee -a "$LOG"
TABLE=$(cat <<TAB
| Komponente   | Funktionstest       | Status         |
|--------------|---------------------|----------------|
| HIP          | hipcc --version     | ${HIP_STATUS}  |
| Jupyter      | Python-Import        | ${JUPYTER_STATUS} |
| Blender      | blender --version    | ${BLENDER_STATUS} |
| TensorFlow   | Python-Import        | ${TENSORFLOW_STATUS} |
TAB
)
echo "$TABLE" | tee -a "$LOG"

echo -e "\nâœ… Komponententest abgeschlossen. Ergebnisse siehe: $LOG"
